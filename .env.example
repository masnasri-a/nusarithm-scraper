# AI-Assisted News Scraper API Environment Configuration
# Copy this file to .env and fill in your actual values

# ===== APPLICATION SETTINGS =====
ENVIRONMENT=development
LOG_LEVEL=debug
DEBUG=true

# ===== API CONFIGURATION =====
API_HOST=0.0.0.0
API_PORT=6777
API_RELOAD=true

# ===== DATABASE CONFIGURATION =====
# SQLite (default for development)
DATABASE_PATH=/app/data/scraper.db

# PostgreSQL (uncomment to use PostgreSQL instead of SQLite)
# DATABASE_URL=postgresql://scraper:scraper_password@postgres:5432/scraper_db
# POSTGRES_DB=scraper_db
# POSTGRES_USER=scraper
# POSTGRES_PASSWORD=scraper_password

# ===== AUTHENTICATION & SECURITY =====
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Admin user (created automatically on startup)
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin123

# ===== LLM CONFIGURATION =====
# OpenAI API
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.1

# Z.AI API (alternative LLM provider)
ZAI_API_KEY=your-zai-api-key-here
ZAI_MODEL=meta-llama/Llama-3.2-3B-Instruct
ZAI_BASE_URL=https://api.z.ai/v1

# Local LLM (Ollama)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2:3b

# Default LLM provider (openai, zai, or ollama)
LLM_PROVIDER=openai

# ===== REDIS CONFIGURATION =====
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=
REDIS_DB=0

# ===== SCRAPING CONFIGURATION =====
# Browser settings
BROWSER_HEADLESS=true
BROWSER_TIMEOUT=30000
MAX_CONCURRENT_SCRAPERS=5

# Request settings
REQUEST_TIMEOUT=30
REQUEST_RETRIES=3
REQUEST_DELAY=1

# Content limits
MAX_CONTENT_LENGTH=1000000
MAX_IMAGE_SIZE=5000000

# ===== FRONTEND CONFIGURATION =====
NEXT_PUBLIC_API_URL=http://localhost:6777
NEXT_PUBLIC_APP_NAME=AI News Scraper
NEXT_PUBLIC_APP_VERSION=1.0.0

# ===== MONITORING & LOGGING =====
ENABLE_METRICS=true
METRICS_PORT=9090
LOG_FILE_PATH=/app/logs/scraper.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# ===== RATE LIMITING =====
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ===== CORS CONFIGURATION =====
CORS_ORIGINS=http://localhost:3677,http://localhost:8080
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# ===== SSL/TLS CONFIGURATION =====
SSL_ENABLED=false
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ===== DOCKER CONFIGURATION =====
COMPOSE_PROJECT_NAME=scraper
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# ===== BACKUP CONFIGURATION =====
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/app/backups